<!DOCTYPE html>
<html>
<head>
  <title>Benchmarking Foundation Models For Antibiotic Susceptibility Prediction</title>

  <!-- <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet"> -->

  <!-- <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script> -->

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>

  <link rel="icon" href="./favicon.ico?">



  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <meta property="og:image:width" content="1600" />
  <meta property="og:image:height" content="900" />

</head>
<body>
  <section class="hero">
    <div class="hero-body no-bottom-padding">
      <div class="container">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">Benchmarking Foundation Models for Antibiotic Susceptibility Prediction</h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                Helio Halperin<sup>1</sup>&nbsp;&nbsp;&nbsp;
                Yanai Halperin<sup>1</sup>&nbsp;&nbsp;&nbsp;
                <a target="_blank" href="https://simonlee-a.github.io/">Simon A. Lee</a><sup>2</sup>&nbsp;&nbsp;&nbsp;
                <a target="_blank" href="https://www.uclahealth.org/departments/neurosurgery/research/research-scientists/jeffrey-chiang-phd">Jeffrey N. Chiang</a><sup>2</sup>&nbsp;&nbsp;&nbsp;
                <br /><sup>1</sup>Santa Monica High School <sup>2</sup> UCLA Computational Medicine
                <span class="brmod" style="color:rgb(183, 0, 0)"><b>2024</b></span>
              </span>
            </div>
            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- PDF Link. -->
                <span class="link-block">
                  <a href="resources/neurips.pdf"
                     class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                        <i class="fas fa-file-pdf"></i>
                    </span>
                    <span>Paper</span>
                  </a>
                </span>

                <!-- arXiv Link. -->
                <span class="link-block">
                  <a target="_blank" href="https://arxiv.org/abs/2402.00160" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>arXiv</span>
                  </a>
                </span>
              
                <span class="link-block">
                  <a href="https://github.com/Simonlee711/antibiotics-fm-benchmark" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                        <svg class="svg-inline--fa fa-github fa-w-16" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fab fa-github"></i> Font Awesome fontawesome.com -->
                    </span>
                    <span>Code</span>
                  </a>
                </span>

                <span class="link-block">
                  <a href="https://physionet.org/content/mimic-iv-ed/2.2/"
                     class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fa fa-database"></i>
                    </span>
                    <span>Dataset</span>
                  </a>
                </span>

                <!-- Code Link. -->

              </div>
  
            </div>
            </div>
  
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>





  <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
        <div align="center">
          <!-- Replace video with an image -->
          <img src="./resources/Dalle2.png" alt="VRB Initial Scene" width="100%">
        </div>
        <br>
        <h2 class="subtitle has-text-centered">
          Dall-E's attempt at visualizing the the research we performed. Makes our work look a lot cooler...
        </h2>
      </div>
    </div>
  </section>
  

  <section class="hero is-light is-small">
    <div class="hero-body">
      <div class="container is-two-thirds">
        <div class="columns is-centered has-text-centered">
          <div class="column is-two-thirds">
            <h2 class="title is-3">Abstract</h2>
          </div>
      </div>
    
      <div class="columns is-centered has-text-centered">
        <div class="column is-two-thirds ">
          <div class="content has-text-justified">
            The rise of antibiotic-resistant bacteria has been identified as a critical global healthcare crisis that compromises the efficacy of essential antibiotics. This crisis is largely driven by the inappropriate and excessive use of antibiotics, which leads to increased bacterial resistance. In response, clinical decision support systems integrated with electronic health records (EHRs) have emerged as a promising solution. These systems employ machine learning models to improve antibiotic stewardship by providing actionable, data-driven insights. This study therefore evaluates pre-trained language models for predicting antibiotic susceptibility, using several open-source models available on the Hugging Face platform. Despite the abundance of models and ongoing advancements in the field, a consensus on the most effective model for encoding clinical knowledge remains unclear.  
          </div>
        </div>
        </div>
      </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-full-width">
          <h1 class="title is-2" style="text-align: center; padding-bottom: 10px;">Antibiotic Resistance</h1>
          <!-- <h2 class="subtitle is-4" style="text-align: center;">Defining Visual Affordances</h2> -->

          <div class="columns is-centered has-text-centered">
          <div class="column is-two-thirds ">
          <div class="content has-text-justified">
            <p>
              Antibiotic resistance is a growing global health threat, reducing the efficacy of treatments against bacterial infections. However with the ubiquitous amount of data, we are able to leverage Electronic Health Records (EHRs) which are patient histories to help predict antibitoic susceptibility. Therefore in this study we use pre-trained foundation models as a potential antibiotic stewardship effort to help combat antibiotic resistance and provide clinical decision support backed up by a data driven approach. 
            </p>
          </div>
        </div>
      </div>


  <section class="section">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-full-width">
          <h1 class="title is-2" style="text-align: center; padding-bottom: 10px;">Transforming Electronic Health Records into text</h1>
          <!-- <h2 class="subtitle is-4" style="text-align: center;">Defining Visual Affordances</h2> -->

          <div class="columns is-centered has-text-centered">
          <div class="column is-two-thirds ">
          <div class="content has-text-justified">
            <p>
            In a previous work, we introduced a methodology for transforming Electronic Health Records (EHRs) into text, which we then used as input into pre-trained language model for predicting antibiotic susceptibility. We used the MIMIC-IV dataset, which contains de-identified health data and made a patient cohort that composed of patients presumed to have a STAPH infection. We detail our patient cohort in the Table Below:
            <div style="width: 100%; text-align: center;">
              <table border="1">
                <tr>
                    <th>Description</th>
                    <th>Category</th>
                    <th>train</th>
                    <th>test</th>
                    <th>totals</th>
                </tr>
                <tr>
                    <td>Prescription, n</td>
                    <td>total</td>
                    <td>4803</td>
                    <td>1173</td>
                    <td>5976</td>
                </tr>
                <tr>
                    <td>Unique ID, n</td>
                    <td>total</td>
                    <td>3283</td>
                    <td>878</td>
                    <td>4161</td>
                </tr>
                <tr>
                    <td>Age mean (SD)</td>
                    <td></td>
                    <td>59 (17)</td>
                    <td>58 (17)</td>
                    <td></td>
                </tr>
                <tr>
                    <td rowspan="2">Sex %</td>
                    <td>female</td>
                    <td>1341</td>
                    <td>351</td>
                    <td>1692</td>
                </tr>
                <tr>
                    <td>male</td>
                    <td>1942</td>
                    <td>527</td>
                    <td>2469</td>
                </tr>
                <tr>
                    <td rowspan="7">Race/Ethnicity %</td>
                    <td>White</td>
                    <td>2212</td>
                    <td>583</td>
                    <td>2795</td>
                </tr>
                <tr>
                    <td>Black</td>
                    <td>416</td>
                    <td>119</td>
                    <td>535</td>
                </tr>
                <tr>
                    <td>Other</td>
                    <td>401</td>
                    <td>96</td>
                    <td>497</td>
                </tr>
                <tr>
                    <td>Hispanic/Latino</td>
                    <td>150</td>
                    <td>55</td>
                    <td>205</td>
                </tr>
                <tr>
                    <td>Asian</td>
                    <td>88</td>
                    <td>20</td>
                    <td>108</td>
                </tr>
                <tr>
                    <td>Unable</td>
                    <td>12</td>
                    <td>3</td>
                    <td>15</td>
                </tr>
                <tr>
                    <td>Native Hawaiian</td>
                    <td>4</td>
                    <td>2</td>
                    <td>6</td>
                </tr>
            </table>
            </div>  
          
          </p>
          </div>
        </div>
      </div>

      

    <section class="section">
      <div class="container">
        <div class="columns is-centered">
          <div class="column is-full-width">
            <h1 class="title is-2" style="text-align: center; padding-bottom: 10px;">Modeling Setup</h1>
            <!-- <h2 class="subtitle is-4" style="text-align: center;">Defining Visual Affordances</h2> -->
  
            <div class="columns is-centered has-text-centered">
            <div class="column is-two-thirds ">
            <div class="content has-text-justified">
              <p>
              In this work we used the Hugging Face platform to access pre-trained language models. We used the following models:

              <div class="column" style="text-align: center;">
                <img src="resources/FM.png" alt="Image description" width="100%">
            </div>

            In this study we decided to freeze these pre-trained model parameters and then use these embeddings as input into a light gradient boosting machine (LGBM) model. We frame each antibiotic susceptibility prediction task as independent binary classifications. We then used the Area under the Reciever Operating Characteristic and the Area under the Precision Recall Curve as our evaluation metrics.
              </p>
            </div>
          </div>
        </div>
      
        <section class="section">
          <div class="container">
            <div class="columns is-centered">
              <div class="column is-full-width">
                <h1 class="title is-2" style="text-align: center; padding-bottom: 10px;">Antibiotics & Their Prevalance</h1>
                <!-- <h2 class="subtitle is-4" style="text-align: center;">Defining Visual Affordances</h2> -->
      
                <div class="columns is-centered has-text-centered">
                <div class="column is-two-thirds ">
                <div class="content has-text-justified">
                  <p>
                  We studied eight antibiotics in this study. The table below shows the prevalence of each antibiotic in our dataset. 

                  <div style="width: 100%; text-align: center;">
                    <table border="1" style="margin: auto;">
                        <tr>
                            <th>Category</th>
                            <th>Antibiotic</th>
                            <th>train</th>
                            <th>test</th>
                            <th>totals</th>
                            <th>Prevalence (%)</th>
                        </tr>
                        <tr>
                            <td rowspan="11">Antibiotics</td>
                            <td>Clindamycin</td>
                            <td>2645</td>
                            <td>624</td>
                            <td>3269</td>
                            <td>54.6838</td>
                        </tr>
                        <tr>
                            <td>Erythromycin</td>
                            <td>2626</td>
                            <td>639</td>
                            <td>3265</td>
                            <td>3.5141</td>
                        </tr>
                        <tr>
                            <td>Gentamicin</td>
                            <td>4549</td>
                            <td>1127</td>
                            <td>5676</td>
                            <td>54.6352</td>
                        </tr>
                        <tr>
                            <td>Levofloxacin</td>
                            <td>2866</td>
                            <td>715</td>
                            <td>3581</td>
                            <td>94.9799</td>
                        </tr>
                        <tr>
                            <td>Oxacillin</td>
                            <td>2702</td>
                            <td>667</td>
                            <td>3369</td>
                            <td>6.4759</td>
                        </tr>
                        <tr>
                            <td>Tetracycline</td>
                            <td>3747</td>
                            <td>909</td>
                            <td>4656</td>
                            <td>39.9598</td>
                        </tr>
                        <tr>
                            <td>Trimethoprim/sulfa</td>
                            <td>3671</td>
                            <td>908</td>
                            <td>4579</td>
                            <td>77.9116</td>
                        </tr>
                        <tr>
                            <td>Vancomycin</td>
                            <td>2529</td>
                            <td>611</td>
                            <td>3140</td>
                            <td>76.6232</td>
                        </tr>
                    </table>
                </div>
                


                  </p>
                </div>
              </div>
            </div>
  
            <section class="section">
              <div class="container">
                <div class="columns is-centered">
                  <div class="column is-full-width">
                    <h1 class="title is-2" style="text-align: center; padding-bottom: 10px;">Results</h1>
                    <!-- <h2 class="subtitle is-4" style="text-align: center;">Defining Visual Affordances</h2> -->
          
                    <div class="columns is-centered has-text-centered">
                    <div class="column is-two-thirds ">
                    <div class="content has-text-justified">
                      <p>

                      We begin by showing the results of our study. Figure 1 displays the Area under the Reciever Operating Characteristic and Figure 2 displays the Area under the Precision Recall Curve as our evaluation metrics. We rank our models from best (top) to worst (bottom).

                      <div class="column" style="text-align: center;">
                        <img src="resources/1.png" alt="Image description" width="100%">
                    </div>
        
                    <div class="column" style="text-align: center;">
                      <img src="resources/2.png" alt="Image description" width="100%">
                  </div>

                      Below we present the results of our study in a much cleaner format. Figure 3 displays the Area under the Reciever Operating Characteristic and Figure 4 displays the Area under the Precision Recall Curve as our evaluation metrics. We rank our models from best (top) to worst (bottom) to show who wins each antibiotic benchmark.
        
                      <div class="column" style="text-align: center;">
                        <img src="resources/AUROC.png" alt="Image description" width="100%">
                    </div>
        
                    <div class="column" style="text-align: center;">
                      <img src="resources/AUPRC.png" alt="Image description" width="100%">
                  </div>

                We see that the best model varies across different antibiotic objectives. However from these plots we do see that BiomedRoBERTa has 4 antibiotics where it performs the best.
                <br>
                <br>
                
                We therefore also present the average ranks of each model where we see SciBERT having the highest average rank.
                <div class="column" style="text-align: center;">
                  <img src="resources/rank.png" alt="Image description" width="80%">
              </div>
                </p>
                    </div>
                  </div>
                </div>

                <section class="section">
                  <div class="container">
                    <div class="columns is-centered">
                      <div class="column is-full-width">
                        <h1 class="title is-2" style="text-align: center; padding-bottom: 10px;">Discussion & Conclusion</h1>
                        <!-- <h2 class="subtitle is-4" style="text-align: center;">Defining Visual Affordances</h2> -->
              
                        <div class="columns is-centered has-text-centered">
                        <div class="column is-two-thirds ">
                        <div class="content has-text-justified">
                          <p>
                          From this study, we notice the varying winners across different antibiotics. This suggest that foundation models may be optimized for specific tasks in which they claim to be the new "State of the Art". Therefore we advise 
                          people who use foundation models as feature representation methods to perform benchmarks as a clear winner is not conclusive.

                          <br>
                          <br>

                          We therefore intend to perform a follow up study in which we fine-tune these foundation models on our dataset to see if we can improve the performance of these models and see if we can observe a clear cut winner who has a state of the art embedding.
                          </p>
                        </div>
                      </div>
                    </div>

                    <section class="section">
                      <div class="container is-max-desktop content">
                        <h2 class="titile">Questions</h2>
                      <div class="is-vcentered interpolation-panel">
                        <div class="container content">
                          <p style = "font-size: 16px">
                          If there are any questions or concerns, please feel free to reach out to us at <a href="mailto:heliohalperin@gmail.com">heliohalperin@gmail.com</a> or <a href="mailto:simonlee711@g.ucla.edu">simonlee711@g.ucla.edu</a>.</p>

                        </div>
                      </div>
                    </div>  
                    </section>
    
          

<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <br />
      <p> Template from <a href="https://nerfies.github.io"><span class="dnerf">Nerfies</span></a>.</p>
    </div>
  </div>
</footer>

</body>
</html>

